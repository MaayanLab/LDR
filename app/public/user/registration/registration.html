<h3>Register</h3>
<form name="userForm">
    <div>
        <label>
            Username:
            <input name="username" type="text" ng-model="user.username" ng-model-options="{ updateOn: 'blur' }" username-available>
        </label>
        <div ng-if="userForm.username.$pending.username">Checking...</div>
        <div ng-if="userForm.username.$error.username">Username exists already</div>
    </div>
    <div>
        <label>
            Password:
            <input type="text" ng-model="user.password">
        </label>
    </div>
    <div>
        <label>
            Email:
            <input name="email" type="email" ng-model="user.email" email-available>
        </label>
        <div ng-if="userForm.email.$pending.email">Validating...</div>
        <div ng-if="userForm.email.$error.email">Email is invalid</div>
    </div>
    <div>
        <label>Group:</label>
        <ui-select class="form-select" ng-model="user.group" theme="select2" ng-disabled="disabled" ng-required>
            <ui-select-match placeholder="Select group...">{{$select.selected.name}}</ui-select-match>
            <ui-select-choices repeat="group in groups | propsFilter: {name: $select.search}">
                <div ng-bind-html="group.name | highlight: $select.search"></div>
            </ui-select-choices>
        </ui-select>
    </div>
    <button ng-click="createUser()">Submit</button>
</form>
