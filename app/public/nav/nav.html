<div class="thin-navbar">
    <div class="container">
        <nav>
            <p ng-show="vm.isLoggedIn">{{ vm.user.username }}</p>
            <a ng-show="vm.isLoggedIn"
               ui-sref="userSettings({id: vm.user._id})"
               class="glyphicon glyphicon-cog"></a>
            <a ng-show="vm.isLoggedIn && vm.isAdmitted"
               ui-sref="groupHome({id: vm.user.group._id})"
               id="group-nav-icon"
               class="glyphicon"></a>
            <a ng-show="vm.isLoggedIn" ng-click="vm.logout()"
               class="glyphicon glyphicon-log-out"></a>
        </nav>
    </div>
</div>
<div class="navbar-wrapper">
    <div class="container">
        <nav class="container-full navbar-collapse">

            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="nav navbar-header">
                <h1>
                    <a ui-sref="home"><span class="normal">LINCS</span> Dataset
                        Registry</a>
                </h1>
                <button type="button" data-target=".navbar-collapse"
                        data-toggle="collapse" class="navbar-toggle">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
            </div>

            <!-- Collect the nav links, forms, and other content for toggling -->
            <div>
                <ul class="nav navbar-nav navbar-right">
                    <li>
                        <h5 ng-show="!vm.isLoggedIn && showErr && vm.showFailMessage"
                            class="errorMsg">User/Password Incorrect.</h5>
                    </li>
                    <li ng-show="vm.isLoggedInAdmin">
                        <a ui-sref="admin">Admin</a>
                    </li>
                    <li class="dropdown"
                        ng-show="vm.isLoggedIn && !vm.isLoggedInAdmin">
                        <a href="" class="dropdown-toggle"
                           data-toggle="dropdown"
                           role="button" aria-expanded="false">
                            Dataset Releases <span class="caret"></span>
                        </a>
                        <ul class="dropdown-menu" role="menu">
                            <li>
                                <a ui-sref="releasesOverview">Overview</a>
                            </li>
                            <li>
                                <a ui-sref="releasesCreate({id: ''})">
                                    Add New
                                </a>
                            </li>
                        </ul>
                    </li>
                    <li ng-show="!vm.isLoggedIn">
                        <form name="loginForm" class="navbar-form navbar-right">
                            <div class="form-group">
                                <input ng-focus="showErr=false"
                                       ng-blur="showErr=true" name="username"
                                       type="text" class="form-control"
                                       ng-model="vm.user.username"
                                       id="username" placeholder="Username">
                            </div>
                            <div id="password-group" class="form-group">
                                <input ng-focus="showErr=false"
                                       ng-blur="showErr=true" name="password"
                                       type="password" class="form-control"
                                       id="password"
                                       ng-model="vm.user.password"
                                       placeholder="Password">
                            </div>
                            <button type="button"
                                    class="btn pull-right register-btn"
                                    ng-click="vm.register()">Register
                            </button>
                            <button type="submit"
                                    class="btn pull-right login-btn"
                                    ng-click="vm.login()">Login
                            </button>
                        </form>
                    </li>
                </ul>
            </div>
        </nav>
    </div>
</div>